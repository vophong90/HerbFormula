// steps/step3.js
export function renderStep3(root, state) {
  root.innerHTML = `
    <h2 class="text-2xl font-semibold mb-4">${window.lang.step3.title}</h2>

    <!-- 🕘 Lịch sử hội chứng đã chẩn đoán -->
    <div class="mb-6">
      <h3 class="text-lg font-semibold mb-2">${window.lang.step3.past_syndrome_title}</h3>
      <ul id="past-syndrome-list" class="list-disc list-inside text-gray-700 text-sm"></ul>
    </div>

    <!-- 🧪 Phân tích hội chứng hiện tại -->
    <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
      <div>
        <label class="font-semibold block mb-1">${window.lang.step3.tree_label}</label>
        <button id="btn-auto-tree" class="bg-purple-600 text-white px-4 py-2 rounded hover:bg-purple-700">
          ${window.lang.step3.analyze_tree}
        </button>
        <textarea id="syndrome-model" rows="3" class="w-full border rounded px-3 py-2" placeholder="VD: Tỳ hư thấp thịnh, Can khí uất kết..."></textarea>
        <div id="tree-extra-questions" class="mt-4 space-y-3"></div>
      </div>

      <div>
        <label class="font-semibold block mb-1">${window.lang.step3.gpt_suggest}</label>
        <button id="btn-auto-classic" class="bg-green-600 text-white px-4 py-2 rounded mt-2">
          ${window.lang.step3.gpt_btn}
        </button>
        <textarea id="syndrome-classic" rows="3" class="w-full border rounded px-3 py-2" placeholder="Trích dẫn từ sách hoặc kinh nghiệm..."></textarea>
      </div>

      <div class="md:col-span-2">
        <label class="font-semibold block mb-1">${window.lang.step3.final_syndrome}</label>
        <input id="syndrome-final" type="text" class="w-full border rounded px-3 py-2" placeholder="${window.lang.step3.final_placeholder}">
      </div>
    </div>

    <!-- Điều hướng -->
    <div class="flex justify-between">
      <button id="btn-back-step2" class="bg-gray-500 text-white px-4 py-2 rounded">
        ${window.lang.step3.back}
      </button>
      <button id="btn-save-next-step3" class="bg-blue-600 text-white px-6 py-2 rounded hover:bg-blue-700">
        ${window.lang.step3.next}
      </button>
    </div>
  `;
}
