<!doctype html>
<html lang="vi">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Há»— trá»£ láº­p phÆ°Æ¡ng YHCT</title>

  <!-- Tailwind + Chart.js nhÆ° cÅ© -->
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js@3.9.1/dist/chart.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-annotation@1.4.0"></script>
  <script>Chart.register(window['chartjs-plugin-annotation']);</script>
  <script src="js/lang/lang_vi.js"></script>
  <script src="js/lang/lang_zh.js"></script>

  <!-- dá»¯ liá»‡u ná»™i bá»™ -->
  <script src="./js/data/herbal_list.js"></script>
  <script src="./js/data/doi_duoc_data.js"></script>
  <script src="./js/data/strengherb.js"></script>
</head>
<body class="bg-gray-50 text-gray-800 min-h-screen flex flex-col">

  <!-- Chá»n ngÃ´n ngá»¯ -->
  <div class="fixed top-4 right-6 z-50">
    <select id="lang-select" class="border rounded px-2 py-1 shadow bg-white">
      <option value="vi">ğŸ‡»ğŸ‡³ Tiáº¿ng Viá»‡t</option>
      <option value="zh">ğŸ‡¨ğŸ‡³ ä¸­æ–‡</option>
    </select>
  </div>

  <div class="flex-grow">
    <div class="max-w-5xl mx-auto px-4 py-6 w-full">
      <h1 id="main-app-title" class="text-3xl font-bold text-center mb-6">
        ğŸ§¾ á»¨ng dá»¥ng há»— trá»£ láº­p phÆ°Æ¡ng Y há»c cá»• truyá»n
      </h1>

      <!-- Tabs Ä‘iá»u hÆ°á»›ng -->
      <div class="w-full flex justify-center px-4 py-4">
        <nav class="flex bg-white rounded-2xl shadow-inner border border-gray-200 overflow-x-auto" id="main-step-tabs">
          <button class="step-tab px-5 py-2 font-medium text-gray-600 hover:text-blue-700 hover:bg-blue-100 transition-all duration-200 focus:outline-none rounded-2xl"
            data-path="#/step0"><span class="mr-1">ğŸ“‚</span>B0: Há»“ sÆ¡</button>
          <button class="step-tab px-5 py-2 font-medium text-gray-600 hover:text-blue-700 hover:bg-blue-100 transition-all duration-200 focus:outline-none rounded-2xl"
            data-path="#/step1"><span class="mr-1">ğŸ©º</span>B1: LÃ¢m sÃ ng</button>
          <button class="step-tab px-5 py-2 font-medium text-gray-600 hover:text-blue-700 hover:bg-blue-100 transition-all duration-200 focus:outline-none rounded-2xl"
            data-path="#/step2"><span class="mr-1">ğŸ“Š</span>B2: ÄÃ¡nh giÃ¡</button>
          <button class="step-tab px-5 py-2 font-medium text-gray-600 hover:text-blue-700 hover:bg-blue-100 transition-all duration-200 focus:outline-none rounded-2xl"
            data-path="#/step3"><span class="mr-1">ğŸ“–</span>B3: Biá»‡n chá»©ng</button>
          <button class="step-tab px-5 py-2 font-medium text-gray-600 hover:text-blue-700 hover:bg-blue-100 transition-all duration-200 focus:outline-none rounded-2xl"
            data-path="#/step4"><span class="mr-1">ğŸ’¡</span>B4: Gá»£i Ã½ toa</button>
          <button class="step-tab px-5 py-2 font-medium text-gray-600 hover:text-blue-700 hover:bg-blue-100 transition-all duration-200 focus:outline-none rounded-2xl"
            data-path="#/step5"><span class="mr-1">ğŸ› ï¸</span>B5: Hiá»‡u chá»‰nh</button>
        </nav>
      </div>
      
      <!-- nÆ¡i render ná»™i dung tá»«ng bÆ°á»›c -->
      <div id="app"></div>
    </div>
  </div>

  <!-- khá»Ÿi Ä‘á»™ng app -->
  <script type="module" src="./js/main.js"></script>
  
  <footer class="mt-16 border-t bg-gray-100 text-center text-sm text-gray-600 py-6 shadow-inner">
    ğŸ‘¨â€ğŸ’» Thiáº¿t káº¿ bá»Ÿi <strong>VÃµ Thanh Phong</strong> vá»›i sá»± há»— trá»£ cá»§a <strong>ChatGPT</strong>.<br>
    Â© <span id="currentYear"></span> Báº£n quyá»n thuá»™c vá» <strong>VÃµ Thanh Phong</strong>.
  </footer>
  <script>
    document.getElementById("currentYear").textContent = new Date().getFullYear();
  </script>

  <!-- Äá»•i ngÃ´n ngá»¯ cho tiÃªu Ä‘á» app vÃ  tab navigation khi chuyá»ƒn lang -->
  <script>
    // Chá»‰ cháº¡y Ä‘oáº¡n nÃ y náº¿u báº¡n muá»‘n Ä‘á»•i text cho tiÃªu Ä‘á» app vÃ  tab ngay cáº£ khi chÆ°a vÃ o JS Ä‘á»™ng
    function updateAppNavLang() {
      // Äá»•i tiÃªu Ä‘á» app
      if (window.lang && window.lang.app_title)
        document.getElementById('main-app-title').textContent = window.lang.app_title;
      // Äá»•i cÃ¡c tab
      const stepTabs = document.querySelectorAll('.step-tab');
      if (window.lang && window.lang.step_tab && stepTabs.length === window.lang.step_tab.length) {
        stepTabs.forEach((btn, i) => {
          // Giá»¯ icon
          const icon = btn.querySelector('span')?.outerHTML || '';
          btn.innerHTML = icon + window.lang.step_tab[i];
        });
      }
    }
    // ÄÄƒng kÃ½ sá»± kiá»‡n khi Ä‘á»•i ngÃ´n ngá»¯
    document.getElementById('lang-select').addEventListener('change', function() {
      window.lang = (this.value === 'zh') ? window.lang_zh : window.lang_vi;
      updateAppNavLang();
      // Náº¿u Ä‘Ã£ khá»Ÿi Ä‘á»™ng app báº±ng JS module, cÃ¡c bÆ°á»›c sáº½ tá»± render láº¡i, khÃ´ng cáº§n lÃ m thÃªm á»Ÿ Ä‘Ã¢y.
    });
    // Khá»Ÿi táº¡o láº§n Ä‘áº§u
    window.lang = window.lang_vi;
    updateAppNavLang();
  </script>
</body>
</html>
